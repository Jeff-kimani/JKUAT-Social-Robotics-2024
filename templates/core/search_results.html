{% extends 'base.html' %}
{% load static %}



{% block title %}
    Search
{% endblock title %}

{% block body %}
<div class="container  px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">Search Results for "{{ query }}"</h1>
    {% if people %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 md:pl-20">People</h2>
        <div class="flex flex-col md:pl-20">
            {% for person in people %}
                <a href="{{ person.get_absolute_url }}" class="text-custom-navyBlue hover:underline text-xl font-semibold">{{ person.first_name }} {{ person.last_name }}</a>
                <p>{{ person.specialty}}</p>
                <p>{{ person.pursuing }}</p>
                <p class='pb-5'>{{ person.focus_title}}</p>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if publications %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 md:pl-20">Publications</h2>
        <div class="md:pl-20 flex flex-col">
            {% for publication in publications %}
                <a href="{{ publication.external_link }}" class="text-custom-navyBlue text-xl hover:underline">{{ publication.title }}</a>
                <p class="text-gray-600 pb-5 ">{{ publication.description|truncatewords:40 }}</p>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if projects %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Projects</h2>
        <div>
            {% for project in projects %}
                <a href="{{ project.get_absolute_url }}" class="text-blue-600 hover:underline">{{ project.title }}</a>
                <p class="text-gray-600">{{ project.description|truncatewords:20 }}</p>
            {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if outreach %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">Outreach</h2>
        <ul>
            {% for outreach in outreach %}
            <li class="mb-2">
                <a href="{{ outreach.get_absolute_url }}" class="text-blue-600 hover:underline">{{ outreach.title }}</a>
                <p class="text-gray-600">{{ outreach.description|truncatewords:20 }}</p>
            </li>
            {% endfor %}
        </ul>
    </section>
    {% endif %}

    {% if robots %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 md:pl-20">Robots</h2>
        <div class="md:pl-20">
            {% for robot in robots %}
                <a href="{{ robot.get_absolute_url }}" class="text-custom-navyBlue font-semibold text-xl hover:underline">{{ robot.title }}</a>
                <p class="text-gray-600 pb-5">{{ robot.description|truncatewords:20 }}</p>
                {% endfor %}
        </div>
    </section>
    {% endif %}

    {% if news %}
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4">News</h2>
        <div>
            {% for item in news %}
                <a href="{{ item.get_absolute_url }}" class="text-custom-navyBlue hover:underline text-xl">{{ item.title }}</a>
                <p class="text-gray-600 pb-10">{{ item.description|truncatewords:20 }}</p>
            {% endfor %}
        </div> 
    </section>
    {% endif %}

    {% if not people and not publications and not projects and not outreach and not robots and not news %}
    <div class="flex flex-col items-center justify-center w-full ">
        <img src="{% static 'img/no-results.png' %}" alt="" class="h-80">
        <p class="text-4xl font-raleway">Oops!</p>
        <p class="text-gray-600 font-lato">No results found for "{{ query }}"</p>
        <button class="font-lato mt-2 bg-custom-navyBlue p-2 text-white  rounded-xl border border-custom-navyBlue hover:bg-white hover:text-custom-navyBlue hover:border-1 hover:border-custom-navyBlue -translate-y-1 transition-colors duration-300 ">Back to home</button>
    </div>
        {% endif %}
</div>
{% endblock body %}