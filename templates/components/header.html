{% load static %}
<header class="bg-[#669ACC] sticky top-0" id="main-header">
  <nav class="px-10" id="main-nav">
    <div class="p-3 flex justify-between">
      <a href="{% url 'core:home' %}" class="">
        <span>Social robotics logo</span>
      </a>
      <div class="flex gap-10 items-center justify-center">
        <div>
          <form
            action="{% url 'core:search' %}"
            method="get"
            class="flex flex-row border rounded-2xl items-center p-2 gap-2"
          >
            <img
              src="{% static 'img/search-icon.png' %}"
              alt=""
              class="size-5"
            />
            <input
              type="text"
              name="q"
              required
              class="appearance-none bg-custom-lightBlue text-white focus:outline-none focus:shadow-outline placeholder:text-white"
              placeholder="Type to search ..."
            />
            <button
              type="submit"
              class="bg-custom-navyBlue text-white p-2 rounded-xl border-2 border-none hover:bg-blue-900 hover:transform duration-300"
            >
              Search
            </button>
          </form>
        </div>
        <div>
          <a
            class="bg-custom-navyBlue text-white p-2 rounded-xl border-2 border-none hover:bg-blue-900 hover:transform duration-300"
            href="{% url 'accounts:login' %}"
            >Login</a
          >
        </div>
      </div>
    </div>
    <div class="border-b"></div>
    <div class="p-2">
      <ul
        class="flex items-center justify-center gap-6 md:gap-12 text-white opacity-0 animate-fadeIn"
      >
        <li>
          <a
            href="{% url 'core:home' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/about/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Home
          </a>
        </li>
        <li>
          <a
            href="{% url 'core:about' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/about/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            About
          </a>
        </li>
        <li>
          <a
            href="{% url 'people:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/team/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Team
          </a>
        </li>
        <li>
          <a
            href="{% url 'news:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/news/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            News
          </a>
        </li>
        <li>
          <a
            href="{% url 'projects:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/projects/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Projects
          </a>
        </li>
        <li>
          <a
            href="{% url 'outreach:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/outreach/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Outreach
          </a>
        </li>
        <li>
          <a
            href="{% url 'publications:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/publications/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Publications
          </a>
        </li>
        <li>
          <a
            href="{% url 'responsible_computing:responsible_computing' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/responsible_computing/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Responsible Computing
          </a>
        </li>
        <li>
          <a
            href="{% url 'robots:list' %}"
            class="relative inline-block pb-1 text-lg {% if request.path == '/robots/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-custom-navyBlue after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform"
          >
            Robots
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>
<style>
  /* Hide header smoothly */
  #main-header {
    transition: transform 0.3s ease-in-out; /* Smooth transition for hiding */
  }

  #main-header.hide {
    transform: translateY(-100%);
  }
  #main-nav ul {
    overflow: hidden;
  }

  /* Animate fadeIn */
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fadeIn {
    animation: fadeIn 1s forwards;
    opacity: 1;
  }
  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }
  .animate-fadeIn {
    opacity: 0;
    animation: fadeIn 1s forwards;
  }
</style>
<script>
  let lastScrollTop = 0;
  let isScrolling;
  const header = document.getElementById("main-header");

  window.addEventListener("scroll", function () {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
      // Scrolling down
      header.classList.add("hide");
    } else {
      // Scrolling up
      header.classList.remove("hide");
    }

    // Clear any previous timeout
    clearTimeout(isScrolling);

    // Set a timeout to hide the header when scrolling stops
    isScrolling = setTimeout(function () {
      header.classList.remove("hide");
    }, 100); // 100ms delay before hiding the header after scrolling stops

    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop; // For Mobile or negative scrolling
  });
</script>
