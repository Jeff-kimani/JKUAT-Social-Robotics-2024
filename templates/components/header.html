{% load static %}

<header class="bg-[#669ACC] py-5 sticky top-0 z-50 transition-transform duration-300" id="main-header">
    <!-- Sticky Header: Ensures the header remains at the top of the page when scrolling -->
    <nav class="flex items-center justify-center gap-12" id="main-nav">
        <div class="flex items-center mr-24 lg:mr-36">
            <a href="{% url 'core:home' %}" class="transform transition-transform hover:rotate-360">
                <img src="{% static 'img/jkuatlogo.png' %}" alt="Logo" class="h-16 w-auto duration-300">
            </a>
        </div>
        <div class="ml-18">
            <ul class="flex items-center gap-8 text-white ml-12 lg:ml-12 opacity-0 animate-fadeIn">
                <li>
                    <a href="{% url 'core:about' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/about/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        About
                    </a>
                </li>
                <li>
                    <a href="{% url 'people:list' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/team/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Team
                    </a>
                </li>
                <li>
                    <a href="{% url 'news:list' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/news/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        News
                    </a>
                </li>
                <li>
                    <a href="{% url 'projects:projects' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/projects/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Projects
                    </a>
                </li>
                <li>
                    <a href="{% url 'outreach:list' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/outreach/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Outreach
                    </a>
                </li>
                <li>
                    <a href="{% url 'publications:list' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/publications/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Publications
                    </a>
                </li>
                <li>
                    <a href="{% url 'responsible_computing:responsible_computing' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/responsible_computing/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Responsible Computing
                    </a>
                </li>
                <li>
                    <a href="{% url 'robots:list' %}" class="relative inline-block pb-1 text-lg {% if request.path == '/robots/' %}text-custom-navyBlue {% endif %} after:content-[''] after:absolute after:w-0 after:h-0.5 after:bg-red-500 after:right-0 after:bottom-0 after:transition-width after:duration-400 hover:after:w-full hover:after:left-0 transform hover:-translate-y-1 transition-transform">
                        Robots
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>

<style>
  @keyframes fadeIn {
    to {
      opacity: 1;
    }
  }
  .animate-fadeIn {
    opacity: 0;
    animation: fadeIn 1s forwards;
  }
</style>

<script>
  let lastScrollTop = 0;
  let isScrolling;
  const header = document.getElementById("main-header");

  window.addEventListener("scroll", function () {
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;

    if (scrollTop > lastScrollTop) {
      header.classList.add("hide");
    } else {
      header.classList.remove("hide");
    }

    clearTimeout(isScrolling);

    isScrolling = setTimeout(function () {
      header.classList.remove("hide");
    }, 100);

    lastScrollTop = scrollTop <= 0 ? 0 : scrollTop;
  });
</script>
